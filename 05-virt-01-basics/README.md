
# Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."

---

## Задача 1

Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

#### Ответ 
    Полная виртуализация обеспечивает полное эмулирование базового оборудования.
    Паравиртуализация - предусматривает подготовку гостевой ОС определенным образом, т.к 
    основана на программной эмуляции.
    Виртуализация на основе ОС - обеспечивает работу гостевой ОС в изолированном пространстве на уровне ядра  
    операционной системы.
#####

## Задача 2

Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:
- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:
- Высоконагруженная база данных, чувствительная к отказу.
- Различные web-приложения.
- Windows системы для использования бухгалтерским отделом.
- Системы, выполняющие высокопроизводительные расчеты на GPU.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.
#####
Высоконагруженная база данных, чувствительная к отказу
###    Физический сервер 
    Так как требуется более высокая производительность, физические серверы дают более высокий отклик.
    Однако для упращения управления может использоваться полная виртуализация  с условием подключения
    дисков напрямую к виртуальной машине,например используя SAN NPI-V. 
        
### Различные Java-приложения
    Виртуализация уровня ОС (контейнеры)
    Требуется меньше ресурсов, выше скорость масштабирования и утилизации оборудования.
    Нет жестких требований к аппаратным ресурсам, проще администрирование 

### Windows системы для использования Бухгалтерским отделом
    Паравиртуализация 
    Легче и гибче управление, возможность быстрого клонирования
        
### Системы, выполняющие высокопроизводительные расчеты на GPU
    Физические сервера либо аппаратная виртуализация позволяющая прокидывать GPU 
    без пенальти на виртуализацию

######

## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

### Сценарий 1

    Считаю, что наиболее целесообразным будет использование Proxmox Virtual Environment с 
    использованием гипервизора KVM решение бесплатное, и соотвествует всем перечисленным требованиям,
    такое как резервное копирование без использования сторонних решений  

### Сценарий 2

    Считаю, что наиболее целесообразным использование Xen, продукт open source и считает наиболее стабильным
    и на мой взгляд, лучше всех опенсорс решений работает с виртуализацией Windows. 
    Возможно KVM даст больше произовдительности на гостевых машинах с Linux, 
    но из-за наличия Windows я бы все-таки остановился на Xen    

### Сценарий 3
    
    Однозначно наиболее подходящим решением является Hyper-V Server 2019, если конечно 
    нет действующей лицензии на Windows Server редакации Datacenter которая позволяет 
    использовать ее в качестве гипервизора для неограниченного количества виртуальных машин.
    Решение от Microsoft наиболее совместимое решения для виртуализации Windows

### Сценарий 4
    Виртуализация уровня ОС здесь не подойдет т.к необходимо 
    тестировать разные дистрибутивы , а соответсвенно и разные ядра.
    Я бы остановился на VMWare ESXi Free, ограничения накладываемые
    бесплатной версией вполне позволяют его использовать для тестирования. 
    Для автоматизации вполне можно прикрутить Vagrant
    

## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.
### Ответ

    Первый и самый главный минус это отсутствие плонофункциональной точки управления и совместимостью между средами.
    Например, необходимость конвертации виртуальных машин при перемещении их между средами. Из-за этого в случае выхода
    из строя узлов на одной среде невозможно будет оперативно запустить нагрузки из другой среды. Также некоторые 
    системы резервного копирования не поддерживают некоторые системы виртуализации. На пример, при использовании в 
    компании VmWare vShpere и аппаратной виртуализации PowerVM для серверов с процессорами Power, необходимо будет 
    выбирать только из тех что поддерживают RISC серверы, а следовательно более удобные решения для VMWare как 
    Veeam уже отпадают. Минимизировать риски можно с помощью выбора средств для управления виртуальными машинами 
    поддерживающих работу с разными гипервизорами и решениями. Такие как vCenter Multi-Hypervisor Manager или 
    Microsoft Virtual Machine Manager.